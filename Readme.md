# ChatRoom Server

## 一、使用说明

1. 运行服务端：（这里仅仅提供一种可行的办法）

1) 将文件夹"chatroom"放入go安装目录下的src文件夹中

2) 在main.go的所在目录打开命令行，输入：

```
go build main.go
```

之后点击运行main.exe即可；或者输入：

```
go run main.go
```

直接运行服务端。

2. 同时开启多个服务端：

将main.go复制，更改main函数中端口参数，之后再按步骤1运行即可。


## 二、开发说明

1. 服务端架构采用助教提供代码，对其稍作调整修改。

2. 传输信息的编码方式：

客户端连接到服务端，第一次传输的信号在转换为string形式之后，前两位字符用于标识与服务器连接的客户端窗口身份。

之后的解码过程，每个客户端略有不同，大都采用此类整体思想。

需要注意的是，为方便解码，要求用户名不得含有空格。

连续密码传输采用字符串`"~#@Password@#~"`作为间隔标志，这可能导致bug，但是服务端接收到的密码都经过Qt中的hash映射，出现bug的概率很小。

3. 数据存储：

未采用文件操作，每次关闭重启服务端都必须重新输入相关的用户数据。

未存储聊天记录。